"use client";

import { motion } from "framer-motion";
import { ExploitPack } from "@/types/game";
import { cn } from "@/lib/utils";

interface ExploitPackCardProps {
  pack: ExploitPack;
  index: number;
  selected?: boolean;
  onSelect?: (pack: ExploitPack) => void;
}

export function ExploitPackCard({ pack, index, selected = false, onSelect }: ExploitPackCardProps) {
  return (
    <motion.button
      type="button"
      onClick={() => onSelect?.(pack)}
      className={cn(
        "group relative w-full overflow-hidden rounded-lg border px-4 py-5 text-left transition duration-300",
        selected
          ? "border-chroma-teal/70 bg-chroma-teal/15 text-chroma-teal shadow-glow"
          : "border-white/10 bg-white/5 text-text-muted hover:border-white/20 hover:bg-white/8 hover:text-white"
      )}
      initial={{ opacity: 0, y: 12, filter: "blur(6px)" }}
      animate={{ opacity: 1, y: 0, filter: "blur(0px)" }}
      transition={{ delay: 0.08 * index, duration: 0.4, ease: [0.16, 1, 0.3, 1] }}
    >
      <span className="absolute inset-0 translate-y-full bg-dark-breach opacity-40 transition-transform duration-500 group-hover:translate-y-0" />
      <div className="relative z-10 space-y-2">
        <p className="text-xs uppercase tracking-[0.4em] text-text-tertiary">Exploit Packet</p>
        <p className="font-display text-2xl text-white">{pack.valueCRED} $CRED</p>
        <p className="font-mono text-[11px] text-text-muted">seed // {pack.id}</p>
        <p className="text-xs text-text-muted">Acquired {new Date(pack.acquiredAt).toLocaleString()}</p>
      </div>
    </motion.button>
  );
}
